<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>MultiSEL para AMUSE VR</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="css/menuestilo.css">
</head>
<body>
    <div style="padding:16px">
      <h1>Tutorial MultiSEL para o AMUSE VR</h1>
    </div>
    <div class="navbar">
      <a href="tutorial1.html">Introdução</a>
      <a href="tutorial2.html">Estrutura</a>
      <a href="tutorial3.html">Mídias e Efeitos Sensoriais</a>
      <a href="tutorial4.html">Cena</a>
      <a href="tutorial5.html">Relacionamentos</a>
      <a href="tutorial6.html">Portas</a>
    </div>
    <div>
        <h1>Tutorial - Relacionamentos em um projeto MultiSEL</h1>
        </br>
        <p>Os relacionamentos (<i>tag relation</i>) no AMUSE VR são responsáveis realizar uma interação entre uma mídia 
        e uma cena ou entre uma mídia
        e outra mídia/ES. Além disso, podem ser usados para o início ou encerramento da exibição de uma mídias/ES/cena.</p>
        <p>Os relacionamentos podem ser criados dentro de uma cena para relacionar suas mídias/ES e também podem
        ser criados dentro do corpo do documento MultiSEL (<i>tag body</i>), para relacionar cenas diferentes.
        A imagem abaixo mostra um exemplo completo de uma cena com relacionamentos.</p>
        </br>
        <img src="image/ms_cena2.JPG">
        </br>
        <h2>Relacionamentos</h2>
        <p>Como dito anteriormente, os relacionamentos têm como objetivo realizar ações entre cenas/mídias/ES. Em MultiSEL,
        os relacionamentos possuem um atributo <i>type</i> conforme os tipos indicados abaixo:</p>
        <ul>
            <li>"starts" - quando o componente primário for exibido, o componente secundário será exibido.</li>
            <li>"finishes" - quando a exibição do componente primário for finalizada,
            a exibição do componente secundário será finalizada.</li>
        </ul>
        <p>No MultiSEL para o AMUSE VR, para descrever uma relação, deve-se usar a <i>tag relation</i> (como visto na linha 57).
        Além desta tag, deve conter duas <i>tags</i> filhas, a <i>primary</i> e <i>secondary</i> 
        (como visto nas linhas 58 e 59). Para melhor entendimento, os relacionamentos serão divididos em
        internos e externos à cena, descritos a seguir.</p>
        </br>
 
        <h3>Relacionamentos internos de cada cena</h3>
        <p>A imagem abaixo mostra, nas linhas 57 a 68, relacionamentos internos a uma cena.</p>
        </br>
        <img src="image/ms_rel_interno.JPG">
        </br>
        <p>Todas as cenas não vazias devem conter relacionamentos internamente, esses relacionamentos no AMUSE VR realizarão
        ações como exibir ou ocultar mídias/ES contidas na cena. A seguir, os tipos de relacionamentos MultiSEL que podem
        ser usados no AMUSE VR:</p>
        <ul>
            <li>Para exibir uma mídia ou ES na apresentação – usa-se o atributo type="starts", como visto na linha 61.</li>
            <li>Para retirar uma mídia ou ES da apresentação - usa-se o atributo type="finishes", como visto na linha 65.</li>
        </ul>
        </br>
        <p>Como todos relacionamentos representam a interação entre dois objetos, é necessário especificar a mídia invocadora 
        e a mídia invocada através de <i>tags</i> filhas <i>primary</i> e <i>secondary</i>. Para o AMUSE VR descreve-se
        como a seguir:</p>
        <ul>
            <li>primary - através do atributo <i>component</i>, indica a origem da mídia ou ES que executa a ação, como
            pode ser visto na linha 62.</li>
            <li>secondary - através do atributo <i>component</i>, indica o alvo da mídia ou ES que sofrerá a ação, como
            pode ser visto na linha 63.</li>
        </ul>
        <p>Por exemplo, no relacionamento das linhas 61 a 64, quando a cena 2 (scene 2) começar, a imagem "image2d-1_s2"
        vai ser exibida.</p>
        <p>Como outro exemplo, se usarmos o relacionamento das linhas 65 a 68 na apresentação abaixo, a imagem do carnaval
        deixará de ser exibida na apresentação.</p>
        </br>
        <img src="image/exemplo.png">
        </br>

        <h3>Relacionamentos externos às cenas</h3>
        <p>A imagem abaixo mostra nas linhas 71 a 78, relacionamentos externos às cenas, criados no corpo do documento MultiSEL.</p>
        </br>
        <img width="50%" height="50%" src="image/ms_rel_externo.JPG">
        </br>
        <p>Em projetos MultiSEL para o AMUSE VR, comandos interativos como cliques em mídias como imagens, textos e botões
        dependendo do relacionamento, podem resultar em transições de cenas. Para isso, é necessário que o
        relacionamento fique localizado fora de todas as cenas, mas ainda assim, dentro da <i>tag body</i>,
        isto é necessário para o relacionamento ter acesso a todas as cenas.</p>
        <p>Para criar relacionamentos interativos entre cenas em projetos para AMUSE VR, usa-se a <i>tag relation</i>
        com os atributos:</p>
        <ul>
            <li>type="onSelectionStarts" - para iniciar uma determinada cena ao selecionar/interagir com a mídia
            definida pela interface da sua <i>tag primary</i>, como visto nas linhas 71 ou 75.</li>
            <li>keyCode="trigger" - determinar que a ação de início será executada por um botão de gatilho
            (<i>trigger</i>) do controle do HMD, como visto nas linhas 71 ou 75.</li>
        </ul>
        </br>
        <p>Para este tipo de relacionamento, as <i>tags</i> filhas devem conter a seguinte estrutura:</p>
        <ul>
            <li>Atributo <i>component</i> da <i>tag primary</i> - indica a cena que possui a mídia/ES que executará
            a ação, como visto nas linhas 72 e 76.</li>
            <li>Atributo <i> interface</i> da <i>Tag primary</i> - indica a porta da mídia/ES na cena desejada,
            como visto nas linhas 72 e 76. Para mais informações sobre portas, consulte a aba <a href="tutorial6.html">portas</a>.
            <li>Atributo <i>component</i> da <i>Tag secondary</i> - indica a cena a ser iniciada após a ação de click,
            como visto nas linhas 73 e 77.</li>
        </ul>
        </br>
        <h2>Atraso na apresentação (<i>delay</i>)</h2>
        <p>É possível agendar atrasos para apresentações de mídias e efeitos sensórias.</p>
        </br>
        <img width="50%" height="50%" src="image/ms_delay.JPG">
        </br>
        <p>Esses atrasos são agendados em segundos através do atributo <i>delay</i> em relacionamentos do tipo “<i>starts</i>”,
        como visto na linha 75.</p>
        </br>
    </div>
</body>
</html>